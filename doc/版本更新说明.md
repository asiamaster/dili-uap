# 3.2.0
- 修正客户端用户注册，默认为外部公司
- 支持手机号登录
- 修正全局异常拦截引包错误
- 修正新增用户的状态为未激活
- 普通用户注册api接口去除部门和职位必填限制
- systems新增is_frontend，支持前端分离
- 修正角色管理解绑用户缺陷
- 完成客户类型数据权限
- 文档归类
- 优化登录性能，提升100ms+
- 修正角色删除和角色查询

# 3.1.2 
- 升级利刃3.7.3
- 升级bpmc-sdk 1.4.2
- 升级logger-sdk  1.0.2
- 升级cms-sdk 1.0.1
- 优化两个注册接口
- 新增客户端注册
- 新增卡号鉴权接口

# 3.1.0
- authenticationApi添加/api前缀
- 修复ResourceMapper.listByUserIdAndSystemId
- 修复loginApp时验证deviceType
- 修正登录接口的登录日志
- 新增登出接口
- 新增支持用户输入密码的APP用户注册接口
- 去掉SessionContext.SESSION_ID
- 优化OAuth的http调用时间，支持配置
- 优化JustAuth的刷新token逻辑
- 修正数据权限获取
- 修正用户查询空指针
- 修正用户性别可能空指针问题
- 分离OAuth accessToken和UAP登录的accessToken
- OAuth安全性优化，支持多层级别的用户权限分类
- 优化JWT安全机制
- 更新WEB端超时为4小时
- 解决登录超时后，查询列表时未正确提示的问题
- 优化登录超时的ajax后台逻辑和前端交互
- 修正当修改角色权限为空时，报SQL异常
- 修正新增用户，前后端手机号验证一致
- 登录日志页面是否成功、IP地址、账号/姓名 查询条件不生效问题修复，列表系统、类型显示与下拉框对不上问题修复
- 修复用户权限分配时操作者本身没有勾选市场权限时点击市场全部问题
- 
# 3.0.0
## 功能说明
-	WEB端登录、移动端登录和鉴权相关代码重构，大幅提升性能，并降低高并发时服务器资源占用
-	authenticationApi中的所有接口全部重构，弃用sessionId，使用新的accessToken和refreshToken，详见UAP3.0接口文档
-	优化redis和cookie存储结构和逻辑
-	原有登录时动态构建用户内链权限修改为在菜单配置时添加角色链接权限，避免在登录进行递归查询，产生过多的表关联，提高性能
-	去掉uap.sessionTimeout配置，新增四个配置项，详见升级说明(3.2节)
-	其它代码优化
-	和2.*版本不兼容
-   新增实时消息通知功能
## 数据库变更
-	systems表的type，以前用于记录内部和外部系统，现改为WEB和APP，用于区分WEB和移动端
-	menu和resource表新增字段system_type，用于冗余记录systems表中的类型
-	resource_link删除resource_code，使用resource_id替换，提升性能
-	上线后需要执行初始化添加角色菜单权限的相关脚本
## 代码变更
UAP-SDK3.0对代码结构进行了重构，解决了像网关这类只使用JWT服务的非spring mvc项目的bean加载问题
-	DynaSessionConstants迁移到com.dili.uap.sdk.config包，改名为DynamicConfig
-	com.dili.uap.sdk.redis包下所有类迁移到com.dili.uap.sdk.service.redis包
-	SessionFilter迁移到com.dili.uap.sdk.filter包
-	ManageConfig和ManageProfileConfig迁移到com.dili.uap.sdk.config包
-	SessionConstants迁移到com.dili.uap.sdk.constant包
-	ManageRedisUtil迁移到com.dili.uap.sdk.service.redis包

# 2.10.0
1. 升级dili-parent-3.7.0
2. 升级spring boot-2.3.2
3. 升级spring cloud-Hoxton.SR8
4. 升级pagehelper-1.3.0
5. 修改密码页面支持C端
6. 解决UAP首页在低分辨率换行问题
7. 其它优化

# 2.9.0
1.	manage.properties支持基于profile的扩展属性配置
- manage-${spring.profiles.active}.properties的属性将覆盖manage.propertes
- 支持过滤表达式的扩展属性
```properties
#包含验证URL规则
manage.includes[0]=^/.*$
#扩展包含验证URL规则
manage.includesExt[0]=^/.*$

#登录验证URL规则
manage.loginChecks[0]=^*.action$
#扩展登录验证URL规则
manage.loginChecksExt[0]=^*.action$

#排除验证URL规则
manage.excludes[0]=^/index/featureList.html$
#扩展排除验证URL规则
manage.excludesExt[0]=^/index/featureList.html$
```
2. 提升程序启动性能和鉴权效率
3. 去掉对logger-sdk的依赖

# 2.8.4
增加用户和角色绑定和解绑接口

# 2.8.3
升级到JDK13
优化全局异常处理方式
ResourceTag支持checkMenu，用于同一个页面配置多个菜单时，处理相同按钮的多个资源权限
nacos改为域名配置
升级commons-web到1.3.2

# 2.8.2
数据字典增加市场维度
市场管理增加商户字段

# 2.4.0
恢复ManageRedisUtil，独立权限使用的Redis
升级到利刃3.5.0

# 2.3.0
优化UserTicket获取
根据利刃框架的提示，添加代码注释
升级到利刃3.4.0
使用统一的Redis配置，去除ManageRedisConfig和ManageRedisUtil


# 3.0.0
## 功能说明
-	WEB端登录、移动端登录和鉴权相关代码重构，大幅提升性能，并降低高并发时服务器资源占用
-	authenticationApi中的所有接口全部重构，弃用sessionId，使用新的accessToken和refreshToken，详见UAP3.0接口文档
-	优化redis和cookie存储结构和逻辑
-	原有登录时动态构建用户内链权限修改为在菜单配置时添加角色链接权限，避免在登录进行递归查询，产生过多的表关联，提高性能
-	去掉uap.sessionTimeout配置，新增四个配置项，详见升级说明(3.2节)
-	其它代码优化
-	和2.*版本不兼容
-   新增实时消息通知功能
## 数据库变更
-	systems表的type，以前用于记录内部和外部系统，现改为WEB和APP，用于区分WEB和移动端
-	menu和resource表新增字段system_type，用于冗余记录systems表中的类型
-	resource_link删除resource_code，使用resource_id替换，提升性能
-	上线后需要执行初始化添加角色菜单权限的相关脚本
## 代码变更
UAP-SDK3.0对代码结构进行了重构，解决了像网关这类只使用JWT服务的非spring mvc项目的bean加载问题
-	DynaSessionConstants迁移到com.dili.uap.sdk.config包，改名为DynamicConfig
-	com.dili.uap.sdk.redis包下所有类迁移到com.dili.uap.sdk.service.redis包
-	SessionFilter迁移到com.dili.uap.sdk.filter包
-	ManageConfig和ManageProfileConfig迁移到com.dili.uap.sdk.config包
-	SessionConstants迁移到com.dili.uap.sdk.constant包
-	ManageRedisUtil迁移到com.dili.uap.sdk.service.redis包

# 2.10.0
1. 升级dili-parent-3.7.0
2. 升级spring boot-2.3.2
3. 升级spring cloud-Hoxton.SR8
4. 升级pagehelper-1.3.0
5. 修改密码页面支持C端
6. 解决UAP首页在低分辨率换行问题
7. 其它优化

# 2.9.0
1.	manage.properties支持基于profile的扩展属性配置
- manage-${spring.profiles.active}.properties的属性将覆盖manage.propertes
- 支持过滤表达式的扩展属性
```properties
#包含验证URL规则
manage.includes[0]=^/.*$
#扩展包含验证URL规则
manage.includesExt[0]=^/.*$

#登录验证URL规则
manage.loginChecks[0]=^*.action$
#扩展登录验证URL规则
manage.loginChecksExt[0]=^*.action$

#排除验证URL规则
manage.excludes[0]=^/index/featureList.html$
#扩展排除验证URL规则
manage.excludesExt[0]=^/index/featureList.html$
```
2. 提升程序启动性能和鉴权效率
3. 去掉对logger-sdk的依赖

# 2.8.4
增加用户和角色绑定和解绑接口

# 2.8.3
升级到JDK13
优化全局异常处理方式
ResourceTag支持checkMenu，用于同一个页面配置多个菜单时，处理相同按钮的多个资源权限
nacos改为域名配置
升级commons-web到1.3.2

# 2.8.2
数据字典增加市场维度
市场管理增加商户字段

# 2.4.0
恢复ManageRedisUtil，独立权限使用的Redis
升级到利刃3.5.0

# 2.3.0
优化UserTicket获取
根据利刃框架的提示，添加代码注释
升级到利刃3.4.0
使用统一的Redis配置，去除ManageRedisConfig和ManageRedisUtil


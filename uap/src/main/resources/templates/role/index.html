 <#body>
    <div class="easyui-layout" fit="true">
        <!-- ====================================================================================================================== -->
        <!-- 上方布局 -->
        <!-- ====================================================================================================================== -->
        <div region="north" height="auto" align="center" border="false">
            <!-- =========================================================表单========================================================= -->
            <div class="easyui-panel" style="width:100%;" align="left" border="false">
                <form id="form" class="easyui-form" method="post" fit="true">
                    <table style="padding:10px;">
                        <tr>
                            <td style="padding:5px;">
                                <input class="easyui-combobox" name="firmCode" id="firmCode" style="width:100%" data-options="label:'所属市场:',editable:false,labelAlign:'right',valueField:'code',textField:'name'" panelHeight="auto" />
                            </td>
                            <td style="padding:5px;">
                                <input class="easyui-textbox" name="roleName" id="roleName" style="width:100%" data-options="label:'角色名:',labelAlign:'right'" />
                            </td>
                            <td>
                                <a href="#" class="easyui-linkbutton" iconCls="icon-search" id="queryBtn"
                                   onclick="queryGrid()">查询</a>&nbsp;&nbsp;
                                <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-clear" onclick="clearForm()">清除</a>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>
        <!-- ====================================================================================================================== -->
        <!-- 中央布局 -->
        <!-- ====================================================================================================================== -->
        <!-- 表格 -->
        <div region="center" style="width:100%;" height="auto" align="center" border="false">
            <div style="width: 100%;height: 100%;" align="center">
                <!-- =========================================================表格========================================================= -->
                <table class="easyui-datagrid" title="角色信息" id="roleGrid" fitColumns="true"  noheader="true"
                       pagination="true" pageSize="30" pageNumber="1" pagePosition="top" remoteSort="true"
                       loadMsg="数据加载中..." singleSelect="true" method="post" sortName="id"
                       align="center" fit="true" striped="true"  idField="id" data-options="onHeaderContextMenu:headerContextMenu,onClickRow:onClickGridRow,onDblClickRow:openUpdate,onBeginEdit:onBeginEdit,onAfterEdit:onAfterEdit,onCancelEdit:onCancelEdit">
                    <thead>
                        <tr>
                            <th width="20%" data-options="field:'id',sortable:true, order:'asc', align:'center', resizable:'true', fixed:'false',hidden:true">
                                ID
                            </th>
                            <th width="20%" data-options="field:'roleName',sortable:true, order:'asc', align:'center', resizable:'true', fixed:'false',editor:{type:'textbox',options:{required:true,validType:'length[0,255]'}}">
                                角色名
                            </th>
                            <th width="50%" data-options="field:'description',sortable:true, order:'asc', align:'center', resizable:'true', fixed:'false',editor:{type:'textbox',options:{required:true,validType:'length[0,255]'}}">
                                角色描述
                            </th>
                            <th width="15%" data-options="field:'firmCode',sortable:true, order:'asc', align:'center', resizable:'true', fixed:'false',editor:{type:'combobox',options:{required:true,editable:false,valueField:'code',textField:'name',panelHeight:'auto'}}">
                                归属市场
                            </th>
                            <th width="16%" data-options="field:'created',_provider:'datetimeProvider', sortable:true, order:'asc', align:'center', resizable:'true', fixed:'false'">
                                创建时间
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
     <!-- 隐藏的权限编辑框 -->
     <div id="roleMenuAndResourceDlg" class="easyui-dialog" resizable="false" constrain="true" shadow="true" draggable="false" title="权限分配" style="padding:10px;width: 80%" modal="true" border="thin" closed="true"
          data-options="
                    iconCls: 'icon-save',
                    height: 550,
                    buttons: [{
                        text:'确认',
                        iconCls:'icon-ok',
                        handler:saveRoleMenuAndResource
                    }]
                ">
             <table title="资源列表" class="easyui-treegrid" noheader="true" style="width:100%;height:100%" id="roleMenuAndResourceGrid"
                    data-options="pagination:false, checkbox: true,rownumbers: false,idField:'treeId',treeField:'name',_parentIdField:'parentId',loadFilter:treegridLoadFilter">
                 <thead>
                 <tr>
                     <th width="20%" data-options="field:'name', resizable:'true'">名称</th>
                     <th width="40%"data-options="field:'description',resizable:'true'">描述</th>
                 </tr>
                 </thead>
             </table>

     </div>
    <!-- ====================================================================================================================== -->
    <!-- style & script 分隔线 -->
    <!-- ====================================================================================================================== -->
    <#role_indexJs />
</#body>